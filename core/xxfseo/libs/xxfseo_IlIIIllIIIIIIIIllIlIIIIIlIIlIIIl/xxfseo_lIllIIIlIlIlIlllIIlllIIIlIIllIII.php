<?php 
/* ÉÌÒµÈí¼þ½ûÖ¹·´±àÒë£¬by Ð¡Ðý·çseo ÍøÖ·£ºxxfseo.com */
defined('APP_ROOT') or exit("access denied"); $ÑÇäG['Éœ½öž']=Õš³šª–(0x4,Õš³šª–(0x5,'LGb0Zmc7nGbjB3Z6ZmV6VwL1Amt3AQL1AaV3ZmL5AaZ2pwImAaN2pmLkAwD2AGL0VwgcBwR7pmbkZQbvAmV2AGL0Awx3ZlV7nGblB3Z6AQD6VaV2BKOhoaV1o3N4ZUV1BGOhp3V2BQyhBKV1omR5AGAhZwN3ZwL1AwD2BGpmVwgcBwZ7pmbkZwbvAwt2AGLkAwD2AGplVwgcBwD7pmb4BQbvAQZ2pmMlAmD2AGMlAmDlpGH0Amx3ZQL1Z242ZGpjAmN2pQL5AwZ2ZGp0Awx2pmMlZaZ2owpmAaZ2pwAiZwN2ZmL4AwR3ZwpmAwH3AQAkAmH3AQL2ZaRmBPV7nGb1B3Z6ZwV6VwMhAmZ2pmMlAKZ2AGMlAwZ2pmL0AwHvB2x6AwgmBwRlBvV3Zmp0AwR3AQp1AmZvB2x6AmgcBwN7nGb4B3Z6BQbvAwx2pwL2AaZvB2x6BGgmBwZjBvV3AQL4AmV2pmp3AKZ2AGp4AwZ2AGpjAmD2BGMmAaVvB2x6ZGN7pmb4BvV2BQMmAmZ3APV7nGbkZGgmBwRlBvV2ZmMmAaV2AwL5AwpvB2x6ZGV7pmblZQbvAmV2AGL0Awx3ZmImAwt2pmpmAmDvB2x6ZGZ7pmbkBQbvZmRmZwZ3ZaVmZQWlZmNlpwZkVwgcBwR0B3Z6BQbvAmN2pmplAmDvB2x6ZGH7pmblZQbvAmV2AGL0Awx3ZmImAmN2pmplAmDvB2x6ZGL7nGb2Zmp5B2x6ZGp7pmbkAQbvAmD2BGMkAwH2pmp1AmDvB2x6ZGt7pmbmAwbvAQD0ZGH0AQR1pmDmAQR0ZmD4AQH1pmH0AQx0pGD1AUZ1AGH0VwgcBwR5B2V6ZQgcBwVjB3Z6ZGL6VwpjAwR3ZmpmAmp2pmplAwDvB2x6ZwR7pmblBQbvAmV2AGL0Awx3ZmImAmN2ZGpmAmZ3AmMmAmV2APV7nGblZwgmBwVjBvV3ZQL1AmV3ZmL5AmZ3AQL1AaV3APV7nGblZmgmBwZlBvV3ZwL1AwD2BGpmAKZ3ZQL1AmV3ZmL5AmZ3AQL1AaV3APV7nGblAQgmBwRlBvV3ZQplAwH2AwL5AmtvB2x6ZwH7pmblAQbvAmV2AGL0Awx3ZmImAmN3ZwL1AwL2BGp4VwgcBwV2B3Z6ZmN6VwD0AQR1AQDkAKZ0ZmDkAQZ0BQD1AKZ1AQD5AUR0AFV7nGblAmgmBwZ0BvV0AQDkAGD0ZGImAQZ0ZGDmAQt0AGImAGN1ZwD1AQL0BGH4VwgcBwV4B3Z6ZGL6VwpjAwZ2pmMlAaV2AGLmAmDvB2x6Zwx7pmbkAQbvAwZ2pmMlAaV2AGLmAmDvB2x6ZmN7pmb0ZQbvAmV2AGL0Awx3Z3V4o3Z5paV2BUWhAKV1owEiZKV4omEhAKWmo3N5ovV7nGbmZGgmBwVjBvV2AmL1AmD0pGL1AmZ3ZmLkAwp2AFV7nGbmZwgmBwL0BvVmpQMkAwH3AQLkZwN2ZmMmAaV3AQL1AaV3AQAkZwV2ZmL4AwR3ZwpmAwH3AQAkAmH3AQL2ZaRmBQVlZwNlpmAlVwgcBwZmB3Z6AwbvAwp2AGp0VwgcBwZ0B3Z6ZGN6VwLkAmV3ZwLkAmxvB2x6ZmH7pmblZwbvAmH2pwpmAwH3ZwL5AwR2pQL5A242AFV7nGbmAwgmBwR2BvVlowp4Amt2AwpmAwH2pmWhVwgcBwZ3B3Z6ZGD6VwL5AmZ1pmMlAmH2pQMjVwgcBwZ4B3Z6ZGt6VwpmAwH3ZwL5AwR2pQL5A242AFV7nGbmBGgmBwRlBvV2BGpmAKZ2BGMlAmDvB2x6AQN7pmb2BvV3ZmL1AmDvB2x6AQR7pmbkZQbvAmR3AGL1AmH2AFV7nGb0ZwgmBwRlBvV2AQL1AaN2AGp0AwHvB30=')); class cacheRedis extends cache{protected $ìÏòª¾; public function __construct($options=array()){global $ÑÇäG;$ÑÇäG_Éœ½öž_0x1f=$ÑÇäG['Éœ½öž'][0x1f];if( !$ÑÇäG['Éœ½öž'][0x0](Õš³šª–(0x2,'Éœ½öž',0x1)) ){$ØžãÏÃÃÕË¾=Õš³šª–(0x2,'Éœ½öž',0x2); if(IS_AJAX){$ÑÇäG['Éœ½öž'][0x3](Õš³šª–(0x2,'Éœ½öž',0x4)); exit($ÑÇäG['Éœ½öž'][0x5](array('status'=>Õš³šª–(0x2,'Éœ½öž',0x7),'info'=>$ØžãÏÃÃÕË¾))); } $ÑÇäG['Éœ½öž'][0x9]($ØžãÏÃÃÕË¾); } if(empty($options)){$options=array( 'host'=>$ÑÇäG['Éœ½öž'][0xb](Õš³šª–(0x2,'Éœ½öž',0xc)) ? $ÑÇäG['Éœ½öž'][0xb](Õš³šª–(0x2,'Éœ½öž',0xc)) : Õš³šª–(0x2,'Éœ½öž',0xd), 'port'=>$ÑÇäG['Éœ½öž'][0xb](Õš³šª–(0x2,'Éœ½öž',0xf)) ? $ÑÇäG['Éœ½öž'][0xb](Õš³šª–(0x2,'Éœ½öž',0xf)) : Õš³šª–(0x2,'Éœ½öž',0x10), 'timeout'=>$ÑÇäG['Éœ½öž'][0xb](Õš³šª–(0x2,'Éœ½öž',0x12)) ? $ÑÇäG['Éœ½öž'][0xb](Õš³šª–(0x2,'Éœ½öž',0x12)) : Õš³šª–(0x2,'Éœ½öž',0x13), 'password'=>$ÑÇäG['Éœ½öž'][0xb](Õš³šª–(0x2,'Éœ½öž',0x15)) ? $ÑÇäG['Éœ½öž'][0xb](Õš³šª–(0x2,'Éœ½öž',0x15)):Õš³šª–(0x2,'Éœ½öž',0x13), 'persistent'=>$ÑÇäG['Éœ½öž'][0xb](Õš³šª–(0x2,'Éœ½öž',0x17)) ? $ÑÇäG['Éœ½öž'][0xb](Õš³šª–(0x2,'Éœ½öž',0x17)) : Õš³šª–(0x2,'Éœ½öž',0x13), 'prefix'=>$ÑÇäG['Éœ½öž'][0xb](Õš³šª–(0x2,'Éœ½öž',0x19)) ? $ÑÇäG['Éœ½öž'][0xb](Õš³šª–(0x2,'Éœ½öž',0x19)) : '', ); } $this->options=$options; $this->options['expire']=isset($options['expire'])? $options['expire'] : $ÑÇäG['Éœ½öž'][0xb](Õš³šª–(0x2,'Éœ½öž',0x1a)); $this->options['prefix']=isset($options['prefix'])? $options['prefix'] : $ÑÇäG['Éœ½öž'][0xb](Õš³šª–(0x2,'Éœ½öž',0x1b)); $this->options['length']=isset($options['length'])? $options['length'] : Õš³šª–(0x2,'Éœ½öž',0x7); $­ç±Ç¹òÊâœ=$options['persistent'] ? Õš³šª–(0x2,'Éœ½öž',0x1c) : Õš³šª–(0x2,'Éœ½öž',0x1d); $this->ìÏòª¾=new Redis; try{if($options['timeout']===Õš³šª–(0x2,'Éœ½öž',0x13)){$this->ìÏòª¾->$­ç±Ç¹òÊâœ($options['host'], $options['port']); }else{$this->ìÏòª¾->$­ç±Ç¹òÊâœ($options['host'], $options['port'], $options['timeout']); } }catch(Exception $e){$ØžãÏÃÃÕË¾=Õš³šª–(0x2,'Éœ½öž',0x1e).å˜ÍÒç($e->$ÑÇäG_Éœ½öž_0x1f()); if(IS_AJAX){$ÑÇäG['Éœ½öž'][0x3](Õš³šª–(0x2,'Éœ½öž',0x4)); exit($ÑÇäG['Éœ½öž'][0x5](array('status'=>Õš³šª–(0x2,'Éœ½öž',0x7),'info'=>$ØžãÏÃÃÕË¾))); } exit(Õš³šª–(0x2,'Éœ½öž',0x20).$ØžãÏÃÃÕË¾); } if($this->options['password']!==Õš³šª–(0x2,'Éœ½öž',0x13)){$this->ìÏòª¾->auth($this->options['password']); } return $this->ìÏòª¾; } public function get($ÔÀ¬ÐÙÛÖª÷Ä){global $ÑÇäG;$ÑÇäG_Éœ½öž_0x21=$ÑÇäG['Éœ½öž'][0x21];$áØíÉÂ«÷èÂ=$this->ìÏòª¾->$ÑÇäG_Éœ½öž_0x21($this->options['prefix'].$ÔÀ¬ÐÙÛÖª÷Ä); if($this->options['type']==Õš³šª–(0x2,'Éœ½öž',0x22) && $áØíÉÂ«÷èÂ!==Õš³šª–(0x2,'Éœ½öž',0x13)) $áØíÉÂ«÷èÂ=$ÑÇäG['Éœ½öž'][0x23]($áØíÉÂ«÷èÂ); return $áØíÉÂ«÷èÂ; } public function option($ÔÀ¬ÐÙÛÖª÷Ä,$×ú˜Õ='*xxfseo*'){global $ÑÇäG;if($×ú˜Õ!=Õš³šª–(0x2,'Éœ½öž',0x24)){$this->options[$ÔÀ¬ÐÙÛÖª÷Ä]=$×ú˜Õ; }else{return $this->options[$ÔÀ¬ÐÙÛÖª÷Ä]; } } public function set($ÔÀ¬ÐÙÛÖª÷Ä, $×ú˜Õ, $œ¾ìÞøÎ=null){global $ÑÇäG;$ÑÇäG_Éœ½öž_0x28=$ÑÇäG['Éœ½öž'][0x28];$ÑÇäG_Éœ½öž_0x29=$ÑÇäG['Éœ½öž'][0x29];if($ÑÇäG['Éœ½öž'][0x25]($œ¾ìÞøÎ)){$œ¾ìÞøÎ=$this->options['expire']; } if($this->options['type']==Õš³šª–(0x2,'Éœ½öž',0x22)) $×ú˜Õ=$ÑÇäG['Éœ½öž'][0x26]($×ú˜Õ); $ÔÀ¬ÐÙÛÖª÷Ä=$this->options['prefix'].$ÔÀ¬ÐÙÛÖª÷Ä; if($ÑÇäG['Éœ½öž'][0x27]($œ¾ìÞøÎ)){$§Óóµ§Éž=$this->ìÏòª¾->setex($ÔÀ¬ÐÙÛÖª÷Ä, $œ¾ìÞøÎ, $×ú˜Õ); }else{$§Óóµ§Éž=$this->ìÏòª¾->$ÑÇäG_Éœ½öž_0x28($ÔÀ¬ÐÙÛÖª÷Ä, $×ú˜Õ); } if($§Óóµ§Éž && $this->options['length']>Õš³šª–(0x2,'Éœ½öž',0x7)){$this->$ÑÇäG_Éœ½öž_0x29($ÔÀ¬ÐÙÛÖª÷Ä); } return $§Óóµ§Éž; } public function rm($ÔÀ¬ÐÙÛÖª÷Ä){global $ÑÇäG;$ÑÇäG_Éœ½öž_0x2a=$ÑÇäG['Éœ½öž'][0x2a];return $this->ìÏòª¾->$ÑÇäG_Éœ½öž_0x2a($this->options['prefix'].$ÔÀ¬ÐÙÛÖª÷Ä); } public function clear(){return $this->ìÏòª¾->flushDB(); } }