<?php 
/* ΙΜµΘνΌώ½ϋΦΉ·΄±ΰλ£¬by Π΅Πύ·ηseo ΝψΦ·£Ίxxfseo.com */
defined('APP_ROOT') or exit("access denied"); $ΡΗδG['Χέασ§Βφζϊ']=Υ³–(0x4,Υ³–(0x5,'LGb5Amc7nGbjB3Z6ZGL6VwL5AmZ1pmL2AaN2pmLkAmDvB2x6ZGgmBwR4BvV2pGL5AwZ3ZwMmAmD2BGMkAwHvB2x6ZwgmBwt6VwH0AGV1AGD1VwgcBwZ7pmbkZQbvAmV2pmp1AaV2APV7nGb0B3Z6ZmV6VwMkAwH2pGMmAmV3BGImAwp2AGp0AKZ3AGpmAwR2AmL1VwgcBwH7pmb2BvV2pGL0ZmHvB2x6AwgmBwR0BvV1pmpmAmD2ZGp0Awx2ZlV7nGb3B3Z6ZGV6VwL5AaV3AQp2AwR2pPV7nGb4B3Z6ZGD6VwL5AmZ1pmMlAmH2pQMjVwgcBwx7pmbkAQbvAwH3BQpjAaN2pmL0AwHvB2x6ZGN7pmblAQbvAwR3ZwplAwR3BGImAmZ2AGLkAmV2ZmL4VwgcBwRkB2V6ZQgcBwRlB3Z6BQbvAmD3ZwL5AaRvB2x6ZGZ7pmbkZwbvAmZ3AQplAmN2pmpmVwgcBwR0B3Z6ZGD6VwpmAmN3ZwL5AaV3AQL2VwgcBwR1B3Z6ZGD6VwL5AmNmZwMjAaZ2pwL3VwgcBwR2B3Z6ZGt6VwpjAwR3ZwpmAwH1pmp1AmV2pPV7nGbkAmgmBwR4BvV2BGpmAKZ3Zmp0AmV2BGMlAwpvB2x6ZGt7pmbkBQbvAmN2ZGplAmZ2AGImAmZ3AQplVwgcBwR5B3Z6ZGL6VwL5AmZ1pmLkAmV3ZwLkAmxvB2x6ZwN7pmblZwbvAwR3ZwplAwR3BGImAaR2AGplAwp2AFV7nGblZGgmBwRlBvV2ZmMmAaV2AwL5AwpvB2x6ZwV7pmblZwbvAmZ3AQplAKZ3ZwL1AmN2pQLkAwZ2AFV7nGblZmgmBwR4BvV2ZGplAmV2ZGp5AKZ3ZQMmAmNvB2x6ZwD7pmbmZwbvAwt3AQp0AmN1pmLlAmH2BGMjAwD1pmpkAmH2AGplAmxvB2x6ZwH7pmblAwbvAwR3ZwplAwR3BGImAmV2AGp2AwH3ZwpmAwHvB2x6ZwL7pmbkBQbvAmH3ZwMjAwD2AGLmAaZ2AQL1VwgcBwV3B3Z6ZGD6VwL5AaR3ZQMjAaZ2AQL1VwgcBwV4B3Z6ZGt6Vwp1AmV2pQL1AaV2ZmMmAwD2AFV7nGblBGgvBwR7nGbmZQgmBwRlBvV3Zmp1AwV3Zmp0AmVvB2x6ZmR7pmbkZQbvAaN3AQplAwx2pFV7nGbmZwgmBwR2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')); function _runtime($φΉπ,$½ΰΝΜ='',$΅ Νφ²―½Τ=4){global $ΡΗδG;static $ιΏ¨ΊΈ=array(); if($ΡΗδG['Χέασ§Βφζϊ'][0x0]($½ΰΝΜ)){$ιΏ¨ΊΈ[$φΉπ]=$½ΰΝΜ; }elseif(!empty($½ΰΝΜ)){$ιΏ¨ΊΈ[$φΉπ.'____'.$½ΰΝΜ]=$ΡΗδG['Χέασ§Βφζϊ'][0x1](Υ³–(0x2,'Χέασ§Βφζϊ',0x2)); return $ΡΗδG['Χέασ§Βφζϊ'][0x3](($ιΏ¨ΊΈ[$φΉπ.'____'.$½ΰΝΜ]-$ιΏ¨ΊΈ[$φΉπ]),$΅ Νφ²―½Τ); }else{$ιΏ¨ΊΈ[$φΉπ]=$ΡΗδG['Χέασ§Βφζϊ'][0x1](Υ³–(0x2,'Χέασ§Βφζϊ',0x2)); } } function _run_mem($φΉπ,$½ΰΝΜ='',$΅ Νφ²―½Τ=4){global $ΡΗδG;static $ιΏ¨ΊΈ=array(); if($ΡΗδG['Χέασ§Βφζϊ'][0x0]($½ΰΝΜ)){$ιΏ¨ΊΈ[$φΉπ]=$½ΰΝΜ; }elseif(!empty($½ΰΝΜ)){return $ΡΗδG['Χέασ§Βφζϊ'][0x3](($ΡΗδG['Χέασ§Βφζϊ'][0x4]()-$ιΏ¨ΊΈ[$φΉπ])/1024,$΅ Νφ²―½Τ); }else{$ιΏ¨ΊΈ[$φΉπ]=$ΡΗδG['Χέασ§Βφζϊ'][0x4](); } } function num($φΉπ, $ιΉµΟνΖοΖ=0){global $ΡΗδG;$φΉπ=$ΡΗδG['Χέασ§Βφζϊ'][0x5]($φΉπ.'_num'); if (!$ΡΗδG['Χέασ§Βφζϊ'][0x6]($φΉπ)){$ΡΗδG['Χέασ§Βφζϊ'][0x6]($φΉπ,0); } if (empty($ιΉµΟνΖοΖ)){return $ΡΗδG['Χέασ§Βφζϊ'][0x6]($φΉπ); }else{$ΡΗδG['Χέασ§Βφζϊ'][0x6]($φΉπ,$ΡΗδG['Χέασ§Βφζϊ'][0x7]($ΡΗδG['Χέασ§Βφζϊ'][0x6]($φΉπ))+ $ΡΗδG['Χέασ§Βφζϊ'][0x7]($ιΉµΟνΖοΖ)); } } function _static($φΉπ,$ΧϊΥ=null){global $ΡΗδG;static $έΰέψ=array(); if (empty($φΉπ)) return $έΰέψ; if ($ΡΗδG['Χέασ§Βφζϊ'][0x8]($ΧϊΥ)){return isset($έΰέψ[$φΉπ]) ? $έΰέψ[$φΉπ] : null; } $έΰέψ[$φΉπ]=$ΧϊΥ; return null; } function get_client_ip($ΈΙ¬£εΘ­=0){global $ΡΗδG;$ΈΙ¬£εΘ­=$ΈΙ¬£εΘ­ ? 1 : 0; static $δΰ¦ξ¶υθΪο–=array(); $τ°¬Θμΐρ=''; if ($δΰ¦ξ¶υθΪο–) return $δΰ¦ξ¶υθΪο–[$ΈΙ¬£εΘ­]; if(isset($_SERVER['HTTP_X_REAL_IP'])){$µΌ›ή§ΓΧΝ =$_SERVER['HTTP_X_REAL_IP']; }elseif (isset($_SERVER['HTTP_CF_CONNECTING_IP'])){$µΌ›ή§ΓΧΝ =$_SERVER['HTTP_CF_CONNECTING_IP']; }elseif (isset($_SERVER['HTTP_INCAP_CLIENT_IP'])){$µΌ›ή§ΓΧΝ =$_SERVER['HTTP_INCAP_CLIENT_IP']; }elseif (isset($_SERVER['REMOTE_ADDR'])){$µΌ›ή§ΓΧΝ =$_SERVER['REMOTE_ADDR']; }elseif (isset($_SERVER['HTTP_CLIENT_IP'])){$µΌ›ή§ΓΧΝ =$_SERVER['HTTP_CLIENT_IP']; }elseif (isset($_SERVER['HTTP_X_FORWARDED_FOR'])){$μς—έ=$ΡΗδG['Χέασ§Βφζϊ'][0x9](',', $_SERVER['HTTP_X_FORWARDED_FOR']); $ΗΩμΣ—ΪκοΊ=$ΡΗδG['Χέασ§Βφζϊ'][0xa]('unknown',$μς—έ); if(Υ³–(0x2,'Χέασ§Βφζϊ',0xb) !== $ΗΩμΣ—ΪκοΊ) unset($μς—έ[$ΗΩμΣ—ΪκοΊ]); $µΌ›ή§ΓΧΝ =$ΡΗδG['Χέασ§Βφζϊ'][0xc]($μς—έ[0]); } if($ΡΗδG['Χέασ§Βφζϊ'][0xd]($µΌ›ή§ΓΧΝ ,':')){$µΌ›ή§ΓΧΝ =preg_replace('~[^\w:]+~','',$µΌ›ή§ΓΧΝ ); return $µΌ›ή§ΓΧΝ ; }else{$ ³Ώυ£¥Ω° =$ΡΗδG['Χέασ§Βφζϊ'][0xe]("%u",$ΡΗδG['Χέασ§Βφζϊ'][0xf]($µΌ›ή§ΓΧΝ )); } $δΰ¦ξ¶υθΪο–=$ ³Ώυ£¥Ω°  ? array($µΌ›ή§ΓΧΝ , $ ³Ώυ£¥Ω° ) : array('0.0.0.0', 0); return $δΰ¦ξ¶υθΪο–[$ΈΙ¬£εΘ­]; } function url($ Β©έΡµμίΒ='',$Βτ§΄ς='',$Εω«΅ςΥ±=true){global $ΡΗδG;$info=$ΡΗδG['Χέασ§Βφζϊ'][0x10]($ Β©έΡµμίΒ); $ Β©έΡµμίΒ=!empty($info['path'])?$info['path']:ACTION_NAME; if($ΡΗδG['Χέασ§Βφζϊ'][0x11]($Βτ§΄ς)){$ΡΗδG['Χέασ§Βφζϊ'][0x12]($Βτ§΄ς,$Βτ§΄ς); }elseif(!$ΡΗδG['Χέασ§Βφζϊ'][0x13]($Βτ§΄ς)){$Βτ§΄ς=array(); } if(isset($info['query'])){$ΡΗδG['Χέασ§Βφζϊ'][0x12]($info['query'],$®ΎΘ ); $Βτ§΄ς=$ΡΗδG['Χέασ§Βφζϊ'][0x14]($®ΎΘ ,$Βτ§΄ς); } $¥ΜΆΔΩΌξδ=$ΡΗδG['Χέασ§Βφζϊ'][0x15]('URL_PATH_DEPR'); if($ Β©έΡµμίΒ){if('/' != $¥ΜΆΔΩΌξδ){$ Β©έΡµμίΒ=$ΡΗδG['Χέασ§Βφζϊ'][0x16]('/',$¥ΜΆΔΩΌξδ,$ Β©έΡµμίΒ); } $ Β©έΡµμίΒ=$ΡΗδG['Χέασ§Βφζϊ'][0xc]($ Β©έΡµμίΒ,$¥ΜΆΔΩΌξδ); $ωψΑΨΞΔΆ½½=$ΡΗδG['Χέασ§Βφζϊ'][0x9]($¥ΜΆΔΩΌξδ,$ Β©έΡµμίΒ); $var=array(); $var[$ΡΗδG['Χέασ§Βφζϊ'][0x15]('ACTION_VAR')]=!empty($ωψΑΨΞΔΆ½½)?$ΡΗδG['Χέασ§Βφζϊ'][0x17]($ωψΑΨΞΔΆ½½):ACTION_NAME; $var[$ΡΗδG['Χέασ§Βφζϊ'][0x15]('MODULE_VAR')]=!empty($ωψΑΨΞΔΆ½½)?$ΡΗδG['Χέασ§Βφζϊ'][0x17]($ωψΑΨΞΔΆ½½):MODULE_NAME; if($ΡΗδG['Χέασ§Βφζϊ'][0x15]('APP_GROUP_LIST')){if(!empty($ωψΑΨΞΔΆ½½)){$ΧΙϊμρ=$ΡΗδG['Χέασ§Βφζϊ'][0x17]($ωψΑΨΞΔΆ½½); $var[$ΡΗδG['Χέασ§Βφζϊ'][0x15]('GROUP_VAR')]=$ΧΙϊμρ; }else{if(GROUP_NAME != $ΡΗδG['Χέασ§Βφζϊ'][0x15]('DEFAULT_GROUP')){$var[$ΡΗδG['Χέασ§Βφζϊ'][0x15]('GROUP_VAR')]=GROUP_NAME; } } } } if($ΡΗδG['Χέασ§Βφζϊ'][0x15]('URL_MODEL') == 1){$ Β©έΡµμίΒ=__APP__.'?'.$ΡΗδG['Χέασ§Βφζϊ'][0x18]($ΡΗδG['Χέασ§Βφζϊ'][0x19]($var)); if(!empty($Βτ§΄ς)){$Βτ§΄ς=$ΡΗδG['Χέασ§Βφζϊ'][0x1a]($ΡΗδG['Χέασ§Βφζϊ'][0x18]($Βτ§΄ς)); $ Β©έΡµμίΒ.='&'.$Βτ§΄ς; } }else{if($ΡΗδG['Χέασ§Βφζϊ'][0x15]('URL_MODEL')==2){$Κ©ωΙΉΥ®χτ=__APP__.'?'; }else{$Κ©ωΙΉΥ®χτ=__ROOT__.'/'; } $ Β©έΡµμίΒ=$Κ©ωΙΉΥ®χτ.$ΡΗδG['Χέασ§Βφζϊ'][0x1b]($¥ΜΆΔΩΌξδ,$ΡΗδG['Χέασ§Βφζϊ'][0x19]($var)); if(!empty($Βτ§΄ς)){foreach ($Βτ§΄ς as $var=>$φ™®Μ){if('' !== $ΡΗδG['Χέασ§Βφζϊ'][0xc]($φ™®Μ)){$φ™®Μ=$ΡΗδG['Χέασ§Βφζϊ'][0x1c]($φ™®Μ); $φ™®Μ=$ΡΗδG['Χέασ§Βφζϊ'][0x16](array('%21','%40','%2C'),array('!','@',','),$φ™®Μ); $ Β©έΡµμίΒ.=$¥ΜΆΔΩΌξδ . $var . $¥ΜΆΔΩΌξδ . $φ™®Μ; } } } if($Εω«΅ςΥ±){$Εω«΅ςΥ±=$Εω«΅ςΥ±===Υ³–(0x2,'Χέασ§Βφζϊ',0x1d)?$ΡΗδG['Χέασ§Βφζϊ'][0x15]('URL_PATH_SUFFIX'):$Εω«΅ςΥ±; if($ΗΩμΣ—ΪκοΊ=$ΡΗδG['Χέασ§Βφζϊ'][0xd]($Εω«΅ςΥ±, '|')){$Εω«΅ςΥ±=$ΡΗδG['Χέασ§Βφζϊ'][0x1e]($Εω«΅ςΥ±, 0, $ΗΩμΣ—ΪκοΊ); } if($Εω«΅ςΥ± && '/' != $ΡΗδG['Χέασ§Βφζϊ'][0x1e]($ Β©έΡµμίΒ,-1)){$ Β©έΡµμίΒ.='.'.$ΡΗδG['Χέασ§Βφζϊ'][0x1f]($Εω«΅ςΥ±,'.'); } } } return $ Β©έΡµμίΒ; } function dump($γΎΚωίΔπ©,$­§φη=false,$χτΙΡΩ=false){global $ΡΗδG;$ΡΗδG['Χέασ§Βφζϊ'][0x20](); if($­§φη){$ΡΗδG['Χέασ§Βφζϊ'][0x21]($γΎΚωίΔπ©); }else{$ΡΗδG['Χέασ§Βφζϊ'][0x22]($γΎΚωίΔπ©); } $¦Ιρψρσ=$ΡΗδG['Χέασ§Βφζϊ'][0x23](); echo '<pre>'.$¦Ιρψρσ.'</pre>'; if($χτΙΡΩ) exit; return; } function txtDB($Τΐ¬ΠΩΫΦχΔ='',$φΉπ='',$σΠν=false){global $ΡΗδG;$ΡΗδG_Χέασ§Βφζϊ_0x26=$ΡΗδG['Χέασ§Βφζϊ'][0x26];$ΡΗδG_Χέασ§Βφζϊ_0x27=$ΡΗδG['Χέασ§Βφζϊ'][0x27];static $®ΪδψΧφ»=array(); $ΡΗδG['Χέασ§Βφζϊ'][0x24](LIB_PATH.®Βθ¬σΞ('db','').'/'.®Βθ¬σΞ('txtSQL.class.php')); $ΡΗδG['Χέασ§Βφζϊ'][0x24](LIB_PATH.®Βθ¬σΞ('db','').'/'.®Βθ¬σΞ('dbTxt.class.php')); $―ιθ«—Ε¤©=$Τΐ¬ΠΩΫΦχΔ.$φΉπ; if (!isset($®ΪδψΧφ»[$―ιθ«—Ε¤©])){$®ΪδψΧφ»[$―ιθ«—Ε¤©]=new dbTxt($ΡΗδG['Χέασ§Βφζϊ'][0x25](TEMP_PATH,'/'),'db',$Τΐ¬ΠΩΫΦχΔ); if(APP_DEBUG or $ΡΗδG['Χέασ§Βφζϊ'][0x15]('web_debug')){$®ΪδψΧφ»[$―ιθ«—Ε¤©]->_STRICT=Υ³–(0x2,'Χέασ§Βφζϊ',0x1d); }else{$®ΪδψΧφ»[$―ιθ«—Ε¤©]->_STRICT=Υ³–(0x2,'Χέασ§Βφζϊ',0xb); } $¦ΙπΛ έψ΅¨ψ=$ΡΗδG['Χέασ§Βφζϊ'][0x9](',',$ΡΗδG['Χέασ§Βφζϊ'][0x15]('DB_HASH_LIST')); if($¦ΙπΛ έψ΅¨ψ){foreach($¦ΙπΛ έψ΅¨ψ as $ΩΣμ=>$©ωυΝ){list($ΰΘλΧ,$ξΛΪ›Μ¤)=$ΡΗδG['Χέασ§Βφζϊ'][0x9]('|',$©ωυΝ); if($Τΐ¬ΠΩΫΦχΔ==$ΰΘλΧ){$®ΪδψΧφ»[$―ιθ«—Ε¤©]->$ΡΗδG_Χέασ§Βφζϊ_0x26($ξΛΪ›Μ¤); if($φΉπ!='') $®ΪδψΧφ»[$―ιθ«—Ε¤©]->$ΡΗδG_Χέασ§Βφζϊ_0x27($φΉπ,$σΠν); } } } } return $®ΪδψΧφ»[$―ιθ«—Ε¤©]; } function DB($Τΐ¬ΠΩΫΦχΔ='',$™ησ΅ςυ=false){global $ΡΗδG;$ΡΗδG_Χέασ§Βφζϊ_0x28=$ΡΗδG['Χέασ§Βφζϊ'][0x28];static $®ΪδψΧφ»=array(); $―ιθ«—Ε¤©=$ΡΗδG['Χέασ§Βφζϊ'][0x5]($Τΐ¬ΠΩΫΦχΔ); if(!isset($®ΪδψΧφ»[$―ιθ«—Ε¤©]) || $™ησ΅ςυ){if(APP_DEBUG or $ΡΗδG['Χέασ§Βφζϊ'][0x15]('web_debug')){$ζΒ»ΉςΒςΕε['db_debug']=Υ³–(0x2,'Χέασ§Βφζϊ',0x1d); } $®ΪδψΧφ»[$―ιθ«—Ε¤©]=new db(); if($Τΐ¬ΠΩΫΦχΔ){$®ΪδψΧφ»[$―ιθ«—Ε¤©]->$ΡΗδG_Χέασ§Βφζϊ_0x28($Τΐ¬ΠΩΫΦχΔ); } } return $®ΪδψΧφ»[$―ιθ«—Ε¤©]; } function import($ΊίΪ§§α»,$ΤΓ§αμΊκζ='.class.php'){global $ΡΗδG;static $ΛΗ¦½Α=array(); $ΊίΪ§§α»=$ΡΗδG['Χέασ§Βφζϊ'][0x16](array('.', '#'), array('/', '.'), $ΊίΪ§§α»); $°·›Λ=APPLIB_PATH.$ΊίΪ§§α».$ΤΓ§αμΊκζ; if(isset($ΛΗ¦½Α[$°·›Λ])) return Υ³–(0x2,'Χέασ§Βφζϊ',0x1d); $ΛΗ¦½Α[$ΊίΪ§§α»]=Υ³–(0x2,'Χέασ§Βφζϊ',0x1d); $η―Ιή=$ΡΗδG['Χέασ§Βφζϊ'][0x9]('/', $ΊίΪ§§α»); if(!$ΡΗδG['Χέασ§Βφζϊ'][0x29]($ΡΗδG['Χέασ§Βφζϊ'][0x2a]($ΊίΪ§§α»),Υ³–(0x2,'Χέασ§Βφζϊ',0xb))){return $ΡΗδG['Χέασ§Βφζϊ'][0x24]($°·›Λ); } } function raction($ Β©έΡµμίΒ,$Βτ§΄ς=array()){global $ΡΗδG;$GLOBALS['RACTION']=Υ³–(0x2,'Χέασ§Βφζϊ',0x1d); $info=$ΡΗδG['Χέασ§Βφζϊ'][0x2b]($ Β©έΡµμίΒ); $µΤσξχ©ε=$info['basename']; $£¦ΖτΙ―ρ=$info['dirname']; $ΊίΪ§§α»=$ΡΗδG['Χέασ§Βφζϊ'][0x2c]($£¦ΖτΙ―ρ); if($ΊίΪ§§α»){if($ΡΗδG['Χέασ§Βφζϊ'][0x11]($Βτ§΄ς)){$ΡΗδG['Χέασ§Βφζϊ'][0x12]($Βτ§΄ς,$Βτ§΄ς); } return call_user_func_array(array(&$ΊίΪ§§α»,$µΤσξχ©ε),$Βτ§΄ς); }else{return Υ³–(0x2,'Χέασ§Βφζϊ',0xb); } } function action($Τΐ¬ΠΩΫΦχΔ){global $ΡΗδG;static $ΘΗΒ½κ΅=array(); $Εω«΅ςΥ±=$ΡΗδG['Χέασ§Βφζϊ'][0x15]('DEFAULT_C_SUFFIX'); $Τΐ¬ΠΩΫΦχΔ=$Τΐ¬ΠΩΫΦχΔ.$ΡΗδG['Χέασ§Βφζϊ'][0x2d]($Εω«΅ςΥ±); $Α―£΅β=$Εω«΅ςΥ±.'/'.$Τΐ¬ΠΩΫΦχΔ; if(isset($ΘΗΒ½κ΅[$Α―£΅β])) return $ΘΗΒ½κ΅[$Α―£΅β]; if($ΡΗδG['Χέασ§Βφζϊ'][0x15]('AUTOLOAD_ENCODE')){list($¥ςΫΞ¥µΏ,$ΛΎ¦ΎΡΦΙ)=$ΡΗδG['Χέασ§Βφζϊ'][0x9]('/',$Τΐ¬ΠΩΫΦχΔ); $ΉΩΟΚΖΦΧ¦=ACTION_PATH.®Βθ¬σΞ($¥ςΫΞ¥µΏ,''); $°·›Λ=$ΉΩΟΚΖΦΧ¦.'/'.®Βθ¬σΞ($ΛΎ¦ΎΡΦΙ.'.class.php'); $ΡΗδG['Χέασ§Βφζϊ'][0x24]($°·›Λ); }else{$ΡΗδG['Χέασ§Βφζϊ'][0x2e]($Α―£΅β); } $ΊίΪ§§α»=$ΡΗδG['Χέασ§Βφζϊ'][0x2a]($Α―£΅β); if($ΡΗδG['Χέασ§Βφζϊ'][0x15]('AUTOLOAD_ENCODE')){$ΊίΪ§§α»=®Βθ¬σΞ($ΊίΪ§§α».'.class.php'); $ΊίΪ§§α»=$ΡΗδG['Χέασ§Βφζϊ'][0x16]('.php','',$ΊίΪ§§α»); } if($ΡΗδG['Χέασ§Βφζϊ'][0x29]($ΊίΪ§§α»,Υ³–(0x2,'Χέασ§Βφζϊ',0xb)) && $ΊίΪ§§α»!='Action' ){$µΤσξχ©ε=new $ΊίΪ§§α»(); $ΘΗΒ½κ΅[$Α―£΅β]=$µΤσξχ©ε; return $µΤσξχ©ε; }else{return Υ³–(0x2,'Χέασ§Βφζϊ',0xb); } } function config($Τΐ¬ΠΩΫΦχΔ=null, $ΧϊΥ=null){global $ΡΗδG;static $φΈφΫγί=array(); if (empty($Τΐ¬ΠΩΫΦχΔ)) return $φΈφΫγί; if ($ΡΗδG['Χέασ§Βφζϊ'][0x11]($Τΐ¬ΠΩΫΦχΔ)){if (!$ΡΗδG['Χέασ§Βφζϊ'][0xd]($Τΐ¬ΠΩΫΦχΔ, '.')){$Τΐ¬ΠΩΫΦχΔ=$ΡΗδG['Χέασ§Βφζϊ'][0x2f]($Τΐ¬ΠΩΫΦχΔ); if ($ΡΗδG['Χέασ§Βφζϊ'][0x8]($ΧϊΥ)) return isset($φΈφΫγί[$Τΐ¬ΠΩΫΦχΔ]) ? $φΈφΫγί[$Τΐ¬ΠΩΫΦχΔ] : null; $φΈφΫγί[$Τΐ¬ΠΩΫΦχΔ]=$ΧϊΥ; return; } $Τΐ¬ΠΩΫΦχΔ=$ΡΗδG['Χέασ§Βφζϊ'][0x9]('.', $Τΐ¬ΠΩΫΦχΔ); $Τΐ¬ΠΩΫΦχΔ[0]=$ΡΗδG['Χέασ§Βφζϊ'][0x2f]($Τΐ¬ΠΩΫΦχΔ[0]); if ($ΡΗδG['Χέασ§Βφζϊ'][0x8]($ΧϊΥ)) return isset($φΈφΫγί[$Τΐ¬ΠΩΫΦχΔ[0]][$Τΐ¬ΠΩΫΦχΔ[1]]) ? $φΈφΫγί[$Τΐ¬ΠΩΫΦχΔ[0]][$Τΐ¬ΠΩΫΦχΔ[1]] : null; $φΈφΫγί[$Τΐ¬ΠΩΫΦχΔ[0]][$Τΐ¬ΠΩΫΦχΔ[1]]=$ΧϊΥ; return; } if ($ΡΗδG['Χέασ§Βφζϊ'][0x13]($Τΐ¬ΠΩΫΦχΔ)) return $φΈφΫγί=$ΡΗδG['Χέασ§Βφζϊ'][0x14]($φΈφΫγί, $ΡΗδG['Χέασ§Βφζϊ'][0x30]($Τΐ¬ΠΩΫΦχΔ)); return null; } function require_load($ΉΙ£ακε){global $ΡΗδG;static $ΨΡΤ²·ΓΆπΏ=array(); if(!isset($ΨΡΤ²·ΓΆπΏ[$ΉΙ£ακε])){$ΡΗδG['Χέασ§Βφζϊ'][0x31]('require_file_'.$ΉΙ£ακε); $ψΉϊΤ΄Ι­=$ΡΗδG['Χέασ§Βφζϊ'][0x32]($ΉΙ£ακε).'/'.$ΡΗδG['Χέασ§Βφζϊ'][0x2a]($ΉΙ£ακε); $ψΉϊΤ΄Ι­=$ΡΗδG['Χέασ§Βφζϊ'][0x16]('\\','/',$ψΉϊΤ΄Ι­); if($ΡΗδG['Χέασ§Βφζϊ'][0x33]($ψΉϊΤ΄Ι­)){$ΨΡΤ²·ΓΆπΏ[$ΉΙ£ακε]=Υ³–(0x2,'Χέασ§Βφζϊ',0x1d); require $ψΉϊΤ΄Ι­; }else{$ΨΡΤ²·ΓΆπΏ[$ΉΙ£ακε]=Υ³–(0x2,'Χέασ§Βφζϊ',0xb); } $ΡΗδG['Χέασ§Βφζϊ'][0x31]('require_file_'.$ΉΙ£ακε,'end'); } return $ΨΡΤ²·ΓΆπΏ[$ΉΙ£ακε]; } function load($Τΐ¬ΠΩΫΦχΔ, $κΤαξλ='', $ΤΓ§αμΊκζ='.php'){global $ΡΗδG;$Τΐ¬ΠΩΫΦχΔ=$ΡΗδG['Χέασ§Βφζϊ'][0x16](array('.', '#'), array('/', '.'), $Τΐ¬ΠΩΫΦχΔ); if(empty($κΤαξλ)){$κΤαξλ=FUNCTION_PATH; } if($ΡΗδG['Χέασ§Βφζϊ'][0x1e]($κΤαξλ, -1) != '/') $κΤαξλ.='/'; $ΉΙ£ακε=®Βθ¬σΞ($Τΐ¬ΠΩΫΦχΔ.$ΤΓ§αμΊκζ,$ΤΓ§αμΊκζ); $ΡΗδG['Χέασ§Βφζϊ'][0x24]($κΤαξλ .$ΉΙ£ακε ); } function xml_encode($›α«®α, $Κ©ωΙΉΥ®χτ='txtcms', $Ι«βΰ²='item', $Ϊσί='', $Γ®ωφ ='id', $ΔΚ°ΩΧ©='utf-8'){global $ΡΗδG;if($ΡΗδG['Χέασ§Βφζϊ'][0x13]($Ϊσί)){$®©®Ό=array(); foreach ($Ϊσί as $φΉπ=>$ΧϊΥ){$®©®Ό[]="{$φΉπ}=\"{$ΧϊΥ}\""; } $Ϊσί=$ΡΗδG['Χέασ§Βφζϊ'][0x1b](' ', $®©®Ό); } $Ϊσί=$ΡΗδG['Χέασ§Βφζϊ'][0xc]($Ϊσί); $Ϊσί=empty($Ϊσί) ? '' : " {$Ϊσί}"; $Ήΐχ΄χΙ΄ρ="<?xml version=\"1.0\" encoding=\"{$ΔΚ°ΩΧ©}\"?>"; $Ήΐχ΄χΙ΄ρ.="<{$Κ©ωΙΉΥ®χτ}{$Ϊσί}>"; $Ήΐχ΄χΙ΄ρ.=$ΡΗδG['Χέασ§Βφζϊ'][0x34]($›α«®α, $Ι«βΰ², $Γ®ωφ ); $Ήΐχ΄χΙ΄ρ.="</{$Κ©ωΙΉΥ®χτ}>"; return $Ήΐχ΄χΙ΄ρ; } function data_to_xml($›α«®α, $Ι«βΰ²='item', $Γ®ωφ ='id'){global $ΡΗδG;$Ήΐχ΄χΙ΄ρ=$Ϊσί=''; foreach ($›α«®α as $φΉπ=>$φ™®Μ){if($ΡΗδG['Χέασ§Βφζϊ'][0x35]($φΉπ)){$Γ®ωφ  && $Ϊσί=" {$Γ®ωφ }=\"{$φΉπ}\""; $φΉπ=$Ι«βΰ²; } $Ήΐχ΄χΙ΄ρ.="<{$φΉπ}{$Ϊσί}>"; $Ήΐχ΄χΙ΄ρ.=($ΡΗδG['Χέασ§Βφζϊ'][0x13]($φ™®Μ) || $ΡΗδG['Χέασ§Βφζϊ'][0x36]($φ™®Μ)) ? $ΡΗδG['Χέασ§Βφζϊ'][0x34]($φ™®Μ, $Ι«βΰ², $Γ®ωφ ) : $φ™®Μ; $Ήΐχ΄χΙ΄ρ.="</{$φΉπ}>"; } return $Ήΐχ΄χΙ΄ρ; } function _404($ΨγΟΓΓΥΛΎ='',$ Β©έΡµμίΒ=''){global $ΡΗδG;(APP_DEBUG || $ΡΗδG['Χέασ§Βφζϊ'][0x15]('web_debug')) && $ΡΗδG['Χέασ§Βφζϊ'][0x37]($ΨγΟΓΓΥΛΎ); if(empty($ Β©έΡµμίΒ) && $ΡΗδG['Χέασ§Βφζϊ'][0x15]('URL_404_REDIRECT')){$ Β©έΡµμίΒ=$ΡΗδG['Χέασ§Βφζϊ'][0x15]('URL_404_REDIRECT'); } if($ Β©έΡµμίΒ){$ΡΗδG['Χέασ§Βφζϊ'][0x38]($ Β©έΡµμίΒ); }else{$ΡΗδG['Χέασ§Βφζϊ'][0x39](404); exit; } } function send_http_status($νΥΩγ½¥λ){global $ΡΗδG;static $–»ΐ=array( 100=>'Continue', 101=>'Switching Protocols', 200=>'OK', 201=>'Created', 202=>'Accepted', 203=>'Non-Authoritative Information', 204=>'No Content', 205=>'Reset Content', 206=>'Partial Content', 300=>'Multiple Choices', 301=>'Moved Permanently', 302=>'Moved Temporarily ', 303=>'See Other', 304=>'Not Modified', 305=>'Use Proxy', 307=>'Temporary Redirect', 400=>'Bad Request', 401=>'Unauthorized', 402=>'Payment Required', 403=>'Forbidden', 404=>'Not Found', 405=>'Method Not Allowed', 406=>'Not Acceptable', 407=>'Proxy Authentication Required', 408=>'Request Timeout', 409=>'Conflict', 410=>'Gone', 411=>'Length Required', 412=>'Precondition Failed', 413=>'Request Entity Too Large', 414=>'Request-URI Too Long', 415=>'Unsupported Media Type', 416=>'Requested Range Not Satisfiable', 417=>'Expectation Failed', 500=>'Internal Server Error', 501=>'Not Implemented', 502=>'Bad Gateway', 503=>'Service Unavailable', 504=>'Gateway Timeout', 505=>'HTTP Version Not Supported', 509=>'Bandwidth Limit Exceeded' ); if(isset($–»ΐ[$νΥΩγ½¥λ])){$ΡΗδG['Χέασ§Βφζϊ'][0x3a]('HTTP/1.1 '.$νΥΩγ½¥λ.' '.$–»ΐ[$νΥΩγ½¥λ]); $ΡΗδG['Χέασ§Βφζϊ'][0x3a]('Status:'.$νΥΩγ½¥λ.' '.$–»ΐ[$νΥΩγ½¥λ]); } } function redirect($ Β©έΡµμίΒ, $ηε©άΚ=0, $ΨγΟΓΓΥΛΎ=''){global $ΡΗδG;$ Β©έΡµμίΒ=$ΡΗδG['Χέασ§Βφζϊ'][0x16](array("\n", "\r"), '', $ Β©έΡµμίΒ); if (empty($ΨγΟΓΓΥΛΎ)) $ΨγΟΓΓΥΛΎ="η³»η»ε°†ε¨{$ηε©άΚ}η§’δΉ‹εθ‡ε¨θ·³θ½¬ε°{$ Β©έΡµμίΒ}οΌ"; if (!$ΡΗδG['Χέασ§Βφζϊ'][0x3b]()){if (0 === $ηε©άΚ){$ΡΗδG['Χέασ§Βφζϊ'][0x3a]('Location: ' . $ Β©έΡµμίΒ); } else{$ΡΗδG['Χέασ§Βφζϊ'][0x3a]("refresh:{$ηε©άΚ};url={$ Β©έΡµμίΒ}"); echo($ΨγΟΓΓΥΛΎ); } exit(); } else{$γΎΚωίΔπ©="<meta http-equiv='Refresh' content='{$ηε©άΚ};URL={$ Β©έΡµμίΒ}'>"; if ($ηε©άΚ != 0) $γΎΚωίΔπ©.=$ΨγΟΓΓΥΛΎ; exit($γΎΚωίΔπ©); } } function relative_path($ωψΑΨΞΔΆ½½){global $ΡΗδG;$ωψΑΨΞΔΆ½½=$ΡΗδG['Χέασ§Βφζϊ'][0x16]('\\','/',$ωψΑΨΞΔΆ½½); return $ΡΗδG['Χέασ§Βφζϊ'][0x16](APP_PATH,'/',$ωψΑΨΞΔΆ½½); } function runTime($φοΙ—ΪΧ,$ΛξσμΘμω±Ε='',$΅ Νφ²―½Τ=4){global $ΡΗδG;static $ιΏ¨ΊΈ=array(); static $ο«ΑΑ=array(); if($ΡΗδG['Χέασ§Βφζϊ'][0x0]($ΛξσμΘμω±Ε)){$ιΏ¨ΊΈ[$φοΙ—ΪΧ]=$ΛξσμΘμω±Ε; }elseif(!empty($ΛξσμΘμω±Ε)){if(!isset($ιΏ¨ΊΈ[$ΛξσμΘμω±Ε])) $ιΏ¨ΊΈ[$ΛξσμΘμω±Ε]=$ΡΗδG['Χέασ§Βφζϊ'][0x1](Υ³–(0x2,'Χέασ§Βφζϊ',0x2)); if(MEMORY_LIMIT_ON && $΅ Νφ²―½Τ=='m'){if(!isset($ο«ΑΑ[$ΛξσμΘμω±Ε])) $ο«ΑΑ[$ΛξσμΘμω±Ε]=$ΡΗδG['Χέασ§Βφζϊ'][0x4](); return $ΡΗδG['Χέασ§Βφζϊ'][0x3c](($ο«ΑΑ[$ΛξσμΘμω±Ε]-$ο«ΑΑ[$φοΙ—ΪΧ])/1024); }else{return $ΡΗδG['Χέασ§Βφζϊ'][0x3c](($ιΏ¨ΊΈ[$ΛξσμΘμω±Ε]-$ιΏ¨ΊΈ[$φοΙ—ΪΧ]),$΅ Νφ²―½Τ); } }else{$ιΏ¨ΊΈ[$φοΙ—ΪΧ]=$ΡΗδG['Χέασ§Βφζϊ'][0x1](Υ³–(0x2,'Χέασ§Βφζϊ',0x2)); if(MEMORY_LIMIT_ON) $ο«ΑΑ[$φοΙ—ΪΧ]=$ΡΗδG['Χέασ§Βφζϊ'][0x4](); } } function exception($»±οΏζΕΓ){global $ΡΗδG;$e=array(); if (APP_DEBUG || $ΡΗδG['Χέασ§Βφζϊ'][0x15]('web_debug')){if (!$ΡΗδG['Χέασ§Βφζϊ'][0x13]($»±οΏζΕΓ)){$ΩηΦί=$ΡΗδG['Χέασ§Βφζϊ'][0x3d](); $e['message']=$»±οΏζΕΓ; $e['file']=$ΡΗδG['Χέασ§Βφζϊ'][0x3e]($ΩηΦί[0]['file']); $e['line']=$ΩηΦί[0]['line']; $ΡΗδG['Χέασ§Βφζϊ'][0x20](); $ΡΗδG['Χέασ§Βφζϊ'][0x3f](); $e['trace']=$ΡΗδG['Χέασ§Βφζϊ'][0x23](); } else{$e=$»±οΏζΕΓ; } } else{$¦½ΑµΠ—–ΪΆρ=$ΡΗδG['Χέασ§Βφζϊ'][0x15]('ERROR_PAGE'); if (!empty($¦½ΑµΠ—–ΪΆρ) && ($¦½ΑµΠ—–ΪΆρ!='/' || ($¦½ΑµΠ—–ΪΆρ=='/' && !empty($_SERVER["QUERY_STRING"])) )){$ΡΗδG['Χέασ§Βφζϊ'][0x38]($¦½ΑµΠ—–ΪΆρ); } else{if ($ΡΗδG['Χέασ§Βφζϊ'][0x15]('SHOW_ERROR_MSG')){$e['message']=$ΡΗδG['Χέασ§Βφζϊ'][0x13]($»±οΏζΕΓ) ? $»±οΏζΕΓ['message'] : $»±οΏζΕΓ; }else{$e['message']=$ΡΗδG['Χέασ§Βφζϊ'][0x15]('ERROR_MESSAGE'); } } } $e['message']=$e['message']; include $ΡΗδG['Χέασ§Βφζϊ'][0x15]('TMPL_EXCEPTION_FILE'); exit; } function throw_exception($ΨγΟΓΓΥΛΎ,$ΈΙ¬£εΘ­='xxfseoException', $νΥΩγ½¥λ=0){global $ΡΗδG;if ($ΡΗδG['Χέασ§Βφζϊ'][0x29]($ΈΙ¬£εΘ­, Υ³–(0x2,'Χέασ§Βφζϊ',0xb))){throw new $ΈΙ¬£εΘ­($ΨγΟΓΓΥΛΎ, $νΥΩγ½¥λ); }else{$ΡΗδG['Χέασ§Βφζϊ'][0x40]($ΨγΟΓΓΥΛΎ); } } function data($Τΐ¬ΠΩΫΦχΔ, $ΧϊΥ='', $options=array()){global $ΡΗδG;if(isset($options['cachetype'])){$ϊΌπ»²Ύσ±αΠ=$options['cachetype']; }else{$ϊΌπ»²Ύσ±αΠ=$ΡΗδG['Χέασ§Βφζϊ'][0x15]('cache_type'); } !$ϊΌπ»²Ύσ±αΠ && $ϊΌπ»²Ύσ±αΠ='file'; if($ϊΌπ»²Ύσ±αΠ=='file'){return $ΡΗδG['Χέασ§Βφζϊ'][0x41]($Τΐ¬ΠΩΫΦχΔ, $ΧϊΥ, $options); } if($ϊΌπ»²Ύσ±αΠ=='redis'){return $ΡΗδG['Χέασ§Βφζϊ'][0x42]($Τΐ¬ΠΩΫΦχΔ, $ΧϊΥ, $options); } } function data_file($Τΐ¬ΠΩΫΦχΔ, $ΧϊΥ='', $options=array()){global $ΡΗδG;static $ήηΡ›=array(); $ωψΑΨΞΔΆ½½=DATA_PATH; $ΎμήψΞ=0; if(isset($options['expire'])){$ΎμήψΞ=$options['expire']; } if(isset($options['path'])){$ωψΑΨΞΔΆ½½=$options['path']; } $Α―£΅β=$ωψΑΨΞΔΆ½½ . $Τΐ¬ΠΩΫΦχΔ . '.php'; $²ηφή=$ΡΗδG['Χέασ§Βφζϊ'][0x5]($Α―£΅β); if ('' !== $ΧϊΥ){if ($ΡΗδG['Χέασ§Βφζϊ'][0x8]($ΧϊΥ)){return Υ³–(0x2,'Χέασ§Βφζϊ',0xb) !== $ΡΗδG['Χέασ§Βφζϊ'][0xd]($Τΐ¬ΠΩΫΦχΔ,'*')?$ΡΗδG['Χέασ§Βφζϊ'][0x43]("unlink", $ΡΗδG['Χέασ§Βφζϊ'][0x44]($Α―£΅β)):$ΡΗδG['Χέασ§Βφζϊ'][0x45]($Α―£΅β); } else{$ΜµΆψ=$ΡΗδG['Χέασ§Βφζϊ'][0x32]($Α―£΅β); if (!$ΡΗδG['Χέασ§Βφζϊ'][0x46]($ΜµΆψ)){$ΡΗδG['Χέασ§Βφζϊ'][0x47]($ΜµΆψ,0766,Υ³–(0x2,'Χέασ§Βφζϊ',0x1d)); } $ήηΡ›[$²ηφή]=$ΧϊΥ; return $ΡΗδG['Χέασ§Βφζϊ'][0x48]($Α―£΅β, "<?php\treturn " . $ΡΗδG['Χέασ§Βφζϊ'][0x49]($ΧϊΥ, Υ³–(0x2,'Χέασ§Βφζϊ',0x1d)) . ";?>"); } } if (isset($ήηΡ›[$²ηφή])) return $ήηΡ›[$²ηφή]; if ($ΡΗδG['Χέασ§Βφζϊ'][0x33]($Α―£΅β)){if($ΎμήψΞ != 0){if($ΡΗδG['Χέασ§Βφζϊ'][0x4a]() < $ΡΗδG['Χέασ§Βφζϊ'][0x4b]($Α―£΅β) + $ΎμήψΞ){$ΧϊΥ=include $Α―£΅β; $ήηΡ›[$²ηφή]=$ΧϊΥ; }else{$ΧϊΥ=Υ³–(0x2,'Χέασ§Βφζϊ',0xb); } }else{$ΧϊΥ=include $Α―£΅β; $ήηΡ›[$²ηφή]=$ΧϊΥ; } } else{$ΧϊΥ=null; } return $ΧϊΥ; } function data_redis($Τΐ¬ΠΩΫΦχΔ,$ΧϊΥ='',$options=array()){global $ΡΗδG;$ΡΗδG_Χέασ§Βφζϊ_0x4c=$ΡΗδG['Χέασ§Βφζϊ'][0x4c];$ΡΗδG_Χέασ§Βφζϊ_0x4d=$ΡΗδG['Χέασ§Βφζϊ'][0x4d];$ΡΗδG_Χέασ§Βφζϊ_0x4e=$ΡΗδG['Χέασ§Βφζϊ'][0x4e];$ΡΗδG_Χέασ§Βφζϊ_0x4f=$ΡΗδG['Χέασ§Βφζϊ'][0x4f];$ΡΗδG_Χέασ§Βφζϊ_0x50=$ΡΗδG['Χέασ§Βφζϊ'][0x50];static $ξΪ«ςΰΌπ³=array(); static $ΡυΝ¶®=''; $©Γ³¦¨½Ι=$Τΐ¬ΠΩΫΦχΔ; $Τΐ¬ΠΩΫΦχΔ.='_'.$ΡΗδG['Χέασ§Βφζϊ'][0x5]($options['path']); !isset($options['type']) && $options['type']='array'; if(empty($ΡυΝ¶®)){$ΡυΝ¶®=new cache(); $ΡυΝ¶®->$ΡΗδG_Χέασ§Βφζϊ_0x4c('redis'); } $ΡυΝ¶®->$ΡΗδG_Χέασ§Βφζϊ_0x4d('path',$options['path']); $ΡυΝ¶®->$ΡΗδG_Χέασ§Βφζϊ_0x4d('expire',$options['expire']); $ΡυΝ¶®->$ΡΗδG_Χέασ§Βφζϊ_0x4d('type',$options['type']); if(''=== $ΧϊΥ){$ΧϊΥ=$ΡυΝ¶®->$ΡΗδG_Χέασ§Βφζϊ_0x4e($Τΐ¬ΠΩΫΦχΔ); if($ΧϊΥ===Υ³–(0x2,'Χέασ§Βφζϊ',0xb) && $options['isfile']){$ΧϊΥ=$ΡΗδG['Χέασ§Βφζϊ'][0x41]($Τΐ¬ΠΩΫΦχΔ, '', $options); } return $ΧϊΥ; }elseif($ΡΗδG['Χέασ§Βφζϊ'][0x8]($ΧϊΥ)){return $ΡυΝ¶®->$ΡΗδG_Χέασ§Βφζϊ_0x4f($Τΐ¬ΠΩΫΦχΔ); }else{if($ΡΗδG['Χέασ§Βφζϊ'][0x13]($options)){$ΎμήψΞ=isset($options['expire'])?$options['expire']:NULL; }else{$ΎμήψΞ=$ΡΗδG['Χέασ§Βφζϊ'][0x35]($options)?$options:NULL; } if($options['isfile']){$ΡΗδG['Χέασ§Βφζϊ'][0x41]($©Γ³¦¨½Ι, $ΧϊΥ, $options); } return $ΡυΝ¶®->$ΡΗδG_Χέασ§Βφζϊ_0x50($Τΐ¬ΠΩΫΦχΔ, $ΧϊΥ, $ΎμήψΞ); } } function cache($φΉπ,$ΧϊΥ='',$ΎμήψΞ=0,$ωψΑΨΞΔΆ½½=''){global $ΡΗδG;$ωψΑΨΞΔΆ½½=$ωψΑΨΞΔΆ½½=='' ? 'temp' : $ωψΑΨΞΔΆ½½; return $ΡΗδG['Χέασ§Βφζϊ'][0x51]($φΉπ, $ΧϊΥ,array('expire'=>$ΎμήψΞ,'path'=>CACHE_PATH,'cachetype'=>'file')); } function getHashDir($φΉπ, $ΖΛΝποΣξΈϊθ=3){global $ΡΗδG;$ΔΦ£Ί―Σζ=array(); $ιΐΪ–½ςΦ¨=$ΡΗδG['Χέασ§Βφζϊ'][0x52]($ΡΗδG['Χέασ§Βφζϊ'][0x53]($φΉπ), 2); for($¥©¬φυΨΝΩΑΓ=0; $¥©¬φυΨΝΩΑΓ < $ΖΛΝποΣξΈϊθ; $¥©¬φυΨΝΩΑΓ++){$ΔΦ£Ί―Σζ[]=$ιΐΪ–½ςΦ¨[$¥©¬φυΨΝΩΑΓ]; } $ΜµΆψ=$ΡΗδG['Χέασ§Βφζϊ'][0x16]('\\', '/', $ΡΗδG['Χέασ§Βφζϊ'][0x1b](DIRECTORY_SEPARATOR, $ΔΦ£Ί―Σζ)); return $ΜµΆψ; } function writefile($ΉΙ£ακε,$›α«®α,$ψγ―—ι›™="w"){global $ΡΗδG;$ΜµΆψ=$ΡΗδG['Χέασ§Βφζϊ'][0x32]($ΉΙ£ακε); if(!$ΡΗδG['Χέασ§Βφζϊ'][0x46]($ΜµΆψ)){$ΡΗδG['Χέασ§Βφζϊ'][0x47]($ΜµΆψ,0777,Υ³–(0x2,'Χέασ§Βφζϊ',0x1d)); } if( $ΡΗδG['Χέασ§Βφζϊ'][0x33]($ΉΙ£ακε) && !$ΡΗδG['Χέασ§Βφζϊ'][0x54]($ΉΙ£ακε)){return Υ³–(0x2,'Χέασ§Βφζϊ',0xb); } $§Σσµ§Ι=Υ³–(0x2,'Χέασ§Βφζϊ',0xb); if($²Άζ΅ν½Ισ=$ΡΗδG['Χέασ§Βφζϊ'][0x55]($ΉΙ£ακε,$ψγ―—ι›™)){$ΡΗδG['Χέασ§Βφζϊ'][0x56](180); $Βενν=$ΡΗδG['Χέασ§Βφζϊ'][0x1](Υ³–(0x2,'Χέασ§Βφζϊ',0x1d))*1000; do{$Ώ­κ³½ΞνΓ=$ΡΗδG['Χέασ§Βφζϊ'][0x57]($²Άζ΅ν½Ισ,Υ³–(0x2,'Χέασ§Βφζϊ',0x58) | Υ³–(0x2,'Χέασ§Βφζϊ',0x59)); if(!$Ώ­κ³½ΞνΓ){$ΡΗδG['Χέασ§Βφζϊ'][0x5a]($ΡΗδG['Χέασ§Βφζϊ'][0x3]($ΡΗδG['Χέασ§Βφζϊ'][0x5b](0,100)*1000)); } }while((!$Ώ­κ³½ΞνΓ)&&(($ΡΗδG['Χέασ§Βφζϊ'][0x1](Υ³–(0x2,'Χέασ§Βφζϊ',0x1d))*1000-$Βενν)<1000)); if($Ώ­κ³½ΞνΓ){$§Σσµ§Ι=$ΡΗδG['Χέασ§Βφζϊ'][0x5c]($²Άζ΅ν½Ισ,$›α«®α); $ΡΗδG['Χέασ§Βφζϊ'][0x57]($²Άζ΅ν½Ισ,Υ³–(0x2,'Χέασ§Βφζϊ',0x5d)); } $ΡΗδG['Χέασ§Βφζϊ'][0x5e]($²Άζ΅ν½Ισ); $ΡΗδG['Χέασ§Βφζϊ'][0x56](RUNTIME_LIMIT); } return $§Σσµ§Ι; } function debug_log($φΉπ=null,$½ΰΝΜ=''){global $ΡΗδG;static $ΤΪΒυ°=array(); if($φΉπ===null && $ΤΪΒυ°){$―Ώ–Φ¬©ηι =$ΦχΣΜχΈ»λ=0; foreach($ΤΪΒυ° as $φΉπ=>$ΏσΝΒΔ²ΙνΘΪ){$―Ώ–Φ¬©ηι +=$ΏσΝΒΔ²ΙνΘΪ['usetime']; $ΦχΣΜχΈ»λ+=$ΏσΝΒΔ²ΙνΘΪ['memory']; $° ίμΏ[$φΉπ]=$ΏσΝΒΔ²ΙνΘΪ['usetime']; $Β©­ΦΎΑΈ—[$φΉπ]=$ΏσΝΒΔ²ΙνΘΪ['memory']; } $ΤΪΒυ°[]=array( 'key'=>'alluse', 'usetime'=>$―Ώ–Φ¬©ηι , 'memory'=>$ΦχΣΜχΈ»λ, 'slow'=>Υ³–(0x2,'Χέασ§Βφζϊ',0x1d), ); return $ΤΪΒυ°; } if($½ΰΝΜ==''){$ΡΗδG['Χέασ§Βφζϊ'][0x5f]($φΉπ); $ΡΗδG['Χέασ§Βφζϊ'][0x60]($φΉπ); }else{$¶Ό¦§ ¥ΔΙ=$ΡΗδG['Χέασ§Βφζϊ'][0x5f]($φΉπ,$½ΰΝΜ); $θΫΞΟΘφΠµ=$ΡΗδG['Χέασ§Βφζϊ'][0x60]($φΉπ,$½ΰΝΜ); $ΤΪΒυ°[]=array( 'key'=>$φΉπ, 'usetime'=>$¶Ό¦§ ¥ΔΙ, 'memory'=>$θΫΞΟΘφΠµ, 'slow'=>($¶Ό¦§ ¥ΔΙ>0.05), ); return 'usetime: '.$¶Ό¦§ ¥ΔΙ.'s , memory: '.$θΫΞΟΘφΠµ.'kb'; } } function get_tags_runtime(){$ζΗΒψέ=array( 'loop','getone','menu','geturl','function' ); $μς—έ=array(); foreach($ζΗΒψέ as $ΩΣμ=>$©ωυΝ){$μς—έ[$©ωυΝ]=isset($GLOBALS['tag_'.$©ωυΝ.'_runtime'])?$GLOBALS['tag_'.$©ωυΝ.'_runtime']:0; } return $μς—έ; } function show_debug_page(){include('./static/tips/page_debug.html'); }