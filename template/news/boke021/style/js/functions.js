//??????
function zcenter_signup(){
    $('.btn').attr("disabled",true);
    $.post(zbp.options.ajaxurl + "zcenter_signup",
        $(".login-form").serialize(),
        function(data){
            switch(data.uid){
                case '0':
                  $('<div class="alert alert-danger" role="alert">????????????????????????????????????</div>').prependTo('.login-form');
                  break;
                case '-1':
                  $('<div class="alert alert-danger" role="alert">???????????????????????????</div>').prependTo('.login-form');
                  break;
                case '-2':
                  $('<div class="alert alert-warning" role="alert">?????????????????????????????????????????????(????????????????????????._?????????).</div>').prependTo('.login-form');
                  break;
                case '-3':
                  $('<div class="alert alert-warning" role="alert">????????????????????????</div>').prependTo('.login-form');
                  break;
                case '-4':
                  $('<div class="alert alert-warning" role="alert">???????????????????????????</div>').prependTo('.login-form');
                  break;
                case '-5':
                  $('<div class="alert alert-warning" role="alert">?????????????????????</div>').prependTo('.login-form');
                  break;
                case '-51':
                  $('<div class="alert alert-warning" role="alert">?????????????????????????????????????????????</div>').prependTo('.login-form');
                  break;
                case '-6':
                  $('<div class="alert alert-warning" role="alert">?????????????????????8-20?????????</div>').prependTo('.login-form');
                  break;
                case '-7':
                  $('<div class="alert alert-warning" role="alert">??????????????????????????????????????????????????????</div>').prependTo('.login-form');
                  break;
                case '-8':
                  $('<div class="alert alert-warning" role="alert">??????IP????????????????????????????????????????????????</div>').prependTo('.login-form');
                  break;
                case '-9':
                  $('<div class="alert alert-success" role="alert">???????????????????????????????????????????????????????????????</div>').prependTo('.login-form');
                  break;
                case '-10':
                  $('<div class="alert alert-success" role="alert">????????????????????????????????????</div>').prependTo('.login-form');
                  break;
                default:
                  $('<div class="alert alert-success" role="alert">???????????????</div>').prependTo('.login-form');
                  setTimeout(function () {
                        window.location=data.redirect_url;
                    }, 2500);
            }
            $('.btn').removeAttr("disabled");
            setTimeout('$(".alert").slideUp()',2000);
        }, "json");
    return false;
}

//??????
function zcenter_login(){
    $.post(zbp.options.ajaxurl + "zcenter_login",
        $(".login-form").serialize(),
        function(data){
            switch(data.uid){
                case '-1':
                  $('<div class="alert alert-danger" role="alert">????????????</div>').prependTo('.login-form');
                  break;
                case '-2':
                  $('<div class="alert alert-warning" role="alert">????????????</div>').prependTo('.login-form');
                  break;
                case '-3':
                  $('<div class="alert alert-warning" role="alert">????????????????????????????????????????????????????????????</div>').prependTo('.login-form');
        $('.loginqa').show();
                  break;
                case '-4':
                  $('<div class="alert alert-warning" role="alert">???????????????????????????????????????</div>').prependTo('.login-form');
                  break;
                default:
                  $('<div class="alert alert-success" role="alert">???????????????</div>').prependTo('.login-form');
                  $(data.synlogin).appendTo('body');
                  //$('#message').modal();
                  setTimeout(function () {
                        window.location=data.redirect_url;
                    }, 1000);
            }
            setTimeout('$(".alert").slideUp()',500);
        }, "json");
    return false;
}


//?????? ??????SingleSignOn??????????????????
function zcenter_singlesignon_login(){
    $.post(zbp.options.ajaxurl + "zcenter_singlesignon_login",
        $(".login-form").serialize(),
        function(data){
            switch(data.uid){
                case '-1':
                  $('<div class="alert alert-danger" role="alert">????????????</div>').prependTo('.login-form');
                  break;
                case '-2':
                  $('<div class="alert alert-warning" role="alert">????????????</div>').prependTo('.login-form');
                  break;
                case '-3':
                  $('<div class="alert alert-warning" role="alert">????????????????????????????????????????????????????????????</div>').prependTo('.login-form');
        $('.loginqa').show();
                  break;
                case '-4':
                  $('<div class="alert alert-warning" role="alert">???????????????????????????????????????</div>').prependTo('.login-form');
                  break;
                default:
                  $('<div class="alert alert-success" role="alert">???????????????</div>').prependTo('.login-form');
                  $(data.synlogin).appendTo('body');
                  //$('#message').modal();
                  setTimeout(function () {
                        window.location=data.redirect_url;
                    }, 1000);
            }
            setTimeout('$(".alert").slideUp()',500);
        }, "json");
    return false;
}

//????????????
function zcenter_findpass(){
    $.post(zbp.options.ajaxurl + "zcenter_findpass",
        $(".login-form").serialize(),
        function(data){
            switch(data.uid){
                case '-1':
                  $('<div class="alert alert-warning" role="alert">??????????????????</div>').prependTo('.login-form');
                  break;
                case '-2':
                  $('<div class="alert alert-warning" role="alert">????????????????????????????????????</div>').prependTo('.login-form');
                  break;
                case '-3':
                  $('<div class="alert alert-danger" role="alert">??????????????????????????????????????????</div>').prependTo('.login-form');
                  break;
                default:
                  $('<div class="alert alert-success" role="alert">?????????????????????????????????????????????????????????</div>').prependTo('.login-form');

            }
            setTimeout('$(".alert").slideUp()',2000);
        }, "json");
    return false;
}

//??????
function zcenter_charge(){
if(confirm("?????????????")){
if(document.getElementById("charge_money").value=="")
			{
				alert("???????????????");
				return false;
			}
$('#submit').attr("disabled",true);
    $.post(zbp.options.ajaxurl + "zcenter_charge",
        $("#charge-form").serialize(),
        function(data){
            switch(data.uid){
                case '-1':
                  alert("???????????????");
                  break;
                case '-2':
                  alert("?????????????????????0????????????");
                  break;
                case '-3':
                  alert("???????????????????????????????????????");
                  break;
                default:
                  alert("??????????????????????????????????????????!");
            }
          window.location=data.redirect_url;
        }, "json");
    return false;
}
}

//??????
function zcenter_enchashment(){
if(confirm("?????????????")){
if(document.getElementById("enchashment_money").value=="")
			{
				alert("???????????????");
				return false;
			}
$('#submit').attr("disabled",true);
    $.post(zbp.options.ajaxurl + "zcenter_enchashment",
        $("#enchashment-form").serialize(),
        function(data){
            switch(data.uid){
                case '-1':
                  alert("???????????????");
                  break;
                case '-2':
                  alert("?????????????????????0????????????");
                  break;
                case '-3':
                  alert("????????????????????????");
                  break;
                case '-4':
                  alert("?????????????????????????????????100???");
                  break;
                default:
                  alert("???????????????????????????????????????????????????!");
            }
          window.location=data.redirect_url;
        }, "json");
    return false;
}
}


//????????? ????????? ??????action  zcenter_payorder(order_form'.$order->Num.');
function zcenter_submit_onlinepayform(form,type){

$("#modeofpayment").val(type);
$(form).submit();


}


 //jquery???????????????????????????json???????????????start
/*
    (function($){
        $.fn.serializeJson=function(){
            var serializeObj={};
            var array=this.serializeArray();
            var str=this.serialize();
            $(array).each(function(){
                if(serializeObj[this.name]){
                    if($.isArray(serializeObj[this.name])){
                        serializeObj[this.name].push(this.value);
                    }else{
                        serializeObj[this.name]=[serializeObj[this.name],this.value];
                    }
                }else{
                    serializeObj[this.name]=this.value;
                }
            });
            return serializeObj;
        };
    })(jQuery);
*/
    //jquery???????????????????????????json???????????????end


//???????????? pre ??????id+num ?????????????????????????????????
function zcenter_submitbuy_pre(){
  //$objbuyform=$("#buy-form").serializeJson();
  var numtext=$(".zcenter_good_num").val();
  var goodid=$(".zcenter_good_id").val();
  window.location=zcenter_userurl+"submitbuy_pre.php?numtext="+numtext+"&id="+goodid;
  return false;
}
//???????????? pre ??????id+num ?????????????????????????????????
function zcenter_multisubmitbuy_pre(){
//  $strcartform=$(".cart-form").serialize();
//  window.location=zcenter_userurl+"submitbuy_pre.php?"+$strcartform;
//  return false;

var objs=document.getElementsByName('id[]');
var isSelect=false;
for(var i=0;i<objs.length;i++){
  if(objs[i].checked==true){
    isSelect=true;
    break;
  }
}
if(isSelect==false){
  alert("??????????????????????????????");
  return false;
}

  $(".cart-form").attr('action',zcenter_userurl+"submitbuy_pre.php");

}

//??????&??????????????????
function zcenter_submitbuy(){
    $.post(zbp.options.ajaxurl + "zcenter_submitbuy",
        $("#buy-form").serialize(),
        function(data){
            switch(data.uid){
                case '-1':
                  alert("???????????????");
                  break;
                case '-2':
                  alert("?????????????????????????????????");
                  break;
                case '-3':
                  alert("????????????????????????");
                  break;
                case '-4':
                  alert("?????????????????????????????????");
                  break;
                default:
                  alert("????????????????????????????????????????????????!");
            }
        window.location=data.redirect_url;
        }, "json");
    return false;
}


//??????&??????????????????
function zcenter_submitbuy_direct(){
      if(confirm("?????????????")){
    $.post(zbp.options.ajaxurl + "zcenter_submitbuy_direct",
        $("#buy-form").serialize(),
        function(data){
            switch(data.uid){
                case '-1':
                  alert("???????????????");
                  break;
                case '-2':
                  alert("??????????????????");
                  break;
                default:
                  alert("????????????!");
            }
        window.location=data.redirect_url;
        }, "json");
    return false;
    }
}


//add to cart
function zcenter_submitcart(){
    $.post(zbp.options.ajaxurl + "zcenter_submitcart",
        $("#buy-form").serialize(),
        function(data){
            switch(data.uid){
                case '-1':
                  alert("???????????????");
                window.location=data.redirect_url;
                  break;
                case '-2':
                  alert("?????????????????????????????????");
                  break;
                case '-3':
                  alert("???????????????????????????????????????");
                  break;
                default:
                  alert("?????????????????????!");
            }
        }, "json");
    return false;
}

//del form cart
function zcenter_delfromcart(cartid){
  if(confirm("?????????????")){
				var ajax_data = {
					id: cartid
				};  
    $.post(zbp.options.ajaxurl + "zcenter_delfromcart",
        ajax_data,
        function(data){
            switch(data.uid){
                case '-1':
                  alert("???????????????");
                  break;
                case '-2':
                  alert("????????????????????????????????????????????????");
                  break;
                default:
                  alert("????????????!");
            }
          window.location=data.redirect_url;
        }, "json");
    return false;
  }
}

//del form cart
function zcenter_multidelfromcart(){

var objs=document.getElementsByName('id[]');
var isSelect=false;
for(var i=0;i<objs.length;i++){
  if(objs[i].checked==true){
    isSelect=true;
    break;
  }
}
if(isSelect==false){
  alert("??????????????????????????????");
  return false;
}

  if(confirm("?????????????")){
    $.post(zbp.options.ajaxurl + "zcenter_delfromcart",
    $(".cart-form").serialize(),
        function(data){
            switch(data.uid){
                case '-1':
                  alert("???????????????");
                  break;
                case '-2':
                  alert("????????????????????????????????????????????????");
                  break;
                default:
                  alert("????????????!");
            }
          window.location=data.redirect_url;
        }, "json");
    return false;
  }
}



//????????????????????????
function zcenter_payorder(form){
if(confirm("?????????????")){
    $.post(zbp.options.ajaxurl + "zcenter_payorder",
        $(form).serialize(),
        function(data){
            switch(data.uid){
                case '-1':
                  alert("???????????????");
                  break;
                case '-2':
                  alert("??????????????????????????????");
                  break;
                case '-3':
                  alert("???????????????????????????????????????????????????????????????????????????");
                  break;
                case '-4':
                  alert("????????????????????????????????????????????????");
                  break;
                default:
                  alert("????????????!");
            }
          window.location=data.redirect_url;
        }, "json");
    return false;
}
}

//????????????????????????
function zcenter_delorder(form){
if(confirm("?????????????")){
    $.post(zbp.options.ajaxurl + "zcenter_delorder",
        $(form).serialize(),
        function(data){
            switch(data.uid){
                case '-1':
                  alert("???????????????");
                  break;
                case '-2':
                  alert("???????????????????????????");
                  break;
                default:
                  alert("????????????!");
                  $(form).parent().parent().fadeOut(1500);
            }
          window.location=data.redirect_url;
        }, "json");
    return false;
}
}


//??????vip??????
function zcenter_charge_vip(){
if($("#viptime").val()=="")
			{
				alert("?????????????????????");
				return false;
			}
if(confirm("??????????????????VIP??????????")){
    $.post(zbp.options.ajaxurl + "zcenter_charge_vip",
        $("#charge-vip").serialize(),
        function(data){
            switch(data.uid){
                case '-1':
                  alert("???????????????");
                  break;
                case '-2':
                  alert("???????????????????????????????????????");
                  break;
                case '-3':
                  alert("????????????????????????");
                  break;
                case '-4':
                  alert("????????????????????????VIP????????????????????????");
                  break;
                default:
                  alert("VIP????????????!");
            }
           window.location=data.redirect_url;
        }, "json");
    return false;
}
}

//???????????????
function zcenter_checkcoupon(){
if(document.getElementById("couponcode").value=="")
			{
				alert("????????????????????????");
				return false;
			}
    $.post(zbp.options.ajaxurl + "zcenter_checkcoupon",
        $(".orderitem-coupon").serialize(),
        function(data){
            switch(data.uid){
                case '-1':
                  alert("???????????????");
                  break;
                case '-2':
                  alert("????????????????????????????????????");
                  break;
                case '-3':
                  alert("??????????????????????????????????????????");
                  break;
                case '-4':
                  alert("???????????????????????????????????????");
                  break;                  
                default:
                  alert("????????????!");
                  window.location=window.location.href;
            }
        }, "json");
    return false;
}


//???????????????
function zcenter_checkchargecard(){
if(document.getElementById("charge_code").value=="")
			{
				alert("????????????????????????");
				return false;
			}
    $.post(zbp.options.ajaxurl + "zcenter_checkchargecard",
        $("#charge-form").serialize(),
        function(data){
            switch(data.uid){
                case '-1':
                  alert("???????????????");
                  break;
                case '-2':
                  alert("????????????????????????????????????");
                  break;   
                case '-3':
                  alert("??????????????????????????????????????????");
                  break;              
                default:
                  alert("????????????!");
                  window.location=data.redirect_url;
            }
        }, "json");
    return false;
}


//????????????
function zcenter_setworkorderstatus(id,status){
if(confirm("???????")){
    $.post(zbp.options.ajaxurl + "zcenter_setworkorderstatus",
        {id:id,status:status},
        function(data){
            switch(data.uid){
                case '-1':
                  alert("????????????????????????");
                  break;
                case '-2':
                  alert("ok???");
                  break;
                default:
                  alert("ok!");
            }
           window.location=data.redirect_url;
        }, "json");
    return false;
}
}

//??????????????????????????????????????????NBlue?????????????????????????????????????????????????????????
//?????? ?????? ??????
function zcenter_addsubscribe(type,content){

    $.post(zbp.options.ajaxurl + "zcenter_addsubscribe",
        {type:type,content:content},
        function(data){
            switch(data.uid){
                case '-1':
                  alert("??????????????????????????????");
                  break;
                case '-2':
                  alert("error input!");
                  break;
                default:
                  $(".zcenter_favorite").html('<i class="zcenter-favorite-ico icon-heart icon12"></i> <a href="#" onclick=\'zcenter_delsubscribe("'+type+'",'+content+');\'>????????????</a>');
                  $(".zcenter-favorite-ico").css("opacity","1");
                  alert("????????????!");
            }
           //window.location=data.redirect_url;
        }, "json");
    return false;
}


//????????????
function zcenter_delsubscribe(type,content){

    $.post(zbp.options.ajaxurl + "zcenter_delsubscribe",
        {type:type,content:content},
        function(data){
            switch(data.uid){
                case '-1':
                  alert("??????????????????????????????");
                  break;
                case '-2':
                  alert("error input!");
                  break;
                default: 
                 $(".zcenter_favorite").html('<i class="zcenter-favorite-ico icon-heart icon12"></i> <a href="#" onclick=\'zcenter_addsubscribe("'+type+'",'+content+');\'>??????</a>');
                  $(".zcenter-favorite-ico").css("opacity","0.4");
                  alert("????????????!");

            }
           //window.location=data.redirect_url;
        }, "json");
    return false;
}


//????????????
function zcenter_checksubscribe(type,content){ 
    $.post(zbp.options.ajaxurl + "zcenter_checksubscribe",
        {type:type,content:content},
        function(data){
            switch(data.uid){
                case '-1':
                 $(".zcenter_favorite").append('<i class="zcenter-favorite-ico icon-heart icon12"></i> <a href="#" onclick=\'zcenter_addsubscribe("'+type+'",'+content+');\'>??????</a>');
                  break;
                case '-2':
                  $(".zcenter_favorite").append('<i class="zcenter-favorite-ico icon-heart icon12"></i> <a href="#" onclick=\'zcenter_delsubscribe("'+type+'",'+content+');\'>????????????</a>');
                  $(".zcenter-favorite-ico").css("opacity","1");
                  break;
                default:
                // en heng?
            }
        }, "json");
    return false;
}




